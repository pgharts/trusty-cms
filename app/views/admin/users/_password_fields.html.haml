%fieldset#display-password{ :style => (@user.new_record? or !@user.valid?) ? 'display: none' : nil }
  %label= t('password')
  %a.button{ :href => '#', :onclick => "$('#display-password').hide(); $('#change-password').show()" }= t('change')
%fieldset#change-password{ :style => (!@user.new_record? && @user.valid?) ? 'display: none' : nil }
  %p
    = f.label :password, t('new_password')
    = f.password_field 'password', :value => '', :maxlength => 40, :autocomplete => 'new-password'
  %p
    = f.label :password_confirmation, t('password_confirmation')
    = f.password_field 'password_confirmation', :value => '', :maxlength => 40, :autocomplete => 'new-password'
    - unless @user.new_record?
      %span
        = t('or')
        %a{ :href => '#', :class => 'cancel-button', :onclick => " $('#display-password').show(); $('#change-password').hide()" }= t('cancel', class: 'alt')
